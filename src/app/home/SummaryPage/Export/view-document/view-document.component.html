<div class="content-wrap pb-2 scroll-bar-main">
    <main id="content" class="content table-padding" role="main">
        <div class="filter_section_top p-2">
            <div class="row m-0">
                <div style="margin: auto;margin-left: 0;">
                    <div class="import_export_sec">
                        <h3 class="heading_common_tag p-0">{{doc}} Shipping ({{this.FILTER_VALUE_LIST.length}})</h3>
                    </div>
                </div>
                <div style="margin: auto; margin-right: 0;">
                    <div class="filter_right_new padding_new_top p-0" style="display: flex;gap: 20px;">
                        <app-ng-dropdown-custom placeHolderText="Search sb no." class="PopupOpen"
                            popup-close="SHIPPING_BILL_ALL_RELATED_DOCUMENTS" width="300px" [items]="this.item1"
                            bindLabel="sbno" (modelChanges)="SbSearch($event?.sbno)" (keyEvent)="SbSearch($event)"
                            [multiple]="false" #buyerNameSelection>
                        </app-ng-dropdown-custom>
                        <button type="button" class="btn btn-primary" (click)="exportToExcel()"><span
                                class="ex_icon"></span>Export</button>
                        <div class="filter_posit">
                            <button type="button" class="filter-popup btn btn-secondary"><span
                                class="fi_icon filter-popup"></span>Filter</button>
                            <div class="bg-white filter_main_sec mt-2" appFilterToggle>
                                <form class="select_filter_options">
                                    <div class="row">
                                        <div class="col-md-6 col-12">
                                            <label for="exampleFormControlInput1" class="form-label">Buyer name</label>
                                            <select class="form-select form-control" aria-label="Default select example"
                                                name="Buyer_Name"
                                                (change)="filter($event.target.value,'buyerName');">
                                                <option value="">Buyer name</option>
                                                <option [value]="Buyer_Name"
                                                    *ngFor="let Buyer_Name of this.ALL_FILTER_DATA?.Buyer_Name">
                                                    {{Buyer_Name}}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <label for="exampleFormControlInput1" class="form-label">Company
                                                name</label>
                                            <select class="form-select form-control" aria-label="Default select example"
                                                (change)="filter($event.target.value,'consigneeName');"
                                                name="Company_Name">
                                                <option value="">Company name</option>
                                                <option [value]="Company_Name"
                                                    *ngFor="let Company_Name of this.ALL_FILTER_DATA?.Company_Name">{{
                                                    Company_Name }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <label for="exampleFormControlInput1" class="form-label">Origin</label>
                                            <select class="form-select form-control" aria-label="Default select example"
                                                (change)="filter($event.target.value,'exporterLocationCode');"
                                                name="Origin">
                                                <option value="">Origin</option>
                                                <option *ngFor="let Origin of this.ALL_FILTER_DATA?.Origin">{{ Origin }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <label for="exampleFormControlInput1" class="form-label">Destination</label>
                                            <select class="form-select form-control" aria-label="Default select example"
                                                (change)="filter($event.target.value,'countryOfFinaldestination');"
                                                name="Destination">
                                                <option value="">Destination</option>
                                                <option *ngFor="let Destination of this.ALL_FILTER_DATA?.Destination">
                                                    {{Destination }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <label for="exampleFormControlInput1" class="form-label">Currency</label>
                                            <select class="form-select form-control" aria-label="Default select example"
                                                (change)="filter($event.target.value,'freightCurrency');"
                                                name="Currency">
                                                <option value="">Currency</option>
                                                <option *ngFor="let Currency of this.ALL_FILTER_DATA?.Currency"
                                                    [value]="Currency">{{ Currency }}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <label for="exampleFormControlInput1" class="form-label">SB DATE</label>
                                            <select class="form-select form-control" aria-label="Default select example"
                                                (change)="filter($event.target.value,'sbdate');"
                                                name="SB_DATE">
                                                <option value="">SB DATE</option>
                                                <option [value]="SB_DATE"
                                                    *ngFor="let SB_DATE of this.ALL_FILTER_DATA?.SB_DATE">{{ SB_DATE }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="footer_buttons">
                                        <button type="button" class="btn btn-light"
                                            (click)="resetFilter();">RESET</button>
                                    </div>
                                </form>
                                <i></i>
                            </div>
                        </div>
                        <button class="upload-button btn btn-success" [routerLink]="['/home/upload-documents/Export/Shippingbill']">
                            <span class="add_icon"></span> ADD NEW
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="analytics" #epltable>
            <custom-expansion-panel [header]="this.FILTER_VALUE_LIST_NEW?.header"
            [ExpansionShowHide]="true"
            [items]="this.FILTER_VALUE_LIST_NEW?.items"
            [Expansionheader]="this.FILTER_VALUE_LIST_NEW?.Expansion_header"
            [Expansionheader2]="this.FILTER_VALUE_LIST_NEW?.Expansion_header2"
            [Expansionitems]="this.FILTER_VALUE_LIST_NEW?.Expansion_Items"
            [ExpansionKeys]="this.FILTER_VALUE_LIST_NEW?.ExpansionKeys"
            [TableHeaderClass]="this.FILTER_VALUE_LIST_NEW?.TableHeaderClass"
            [ExpansionKeys2]="this.FILTER_VALUE_LIST_NEW?.ExpansionKeys2"
            ExpansionTitle2="Invoice Details"
            [ExpansionTitle]="'Shipping of Against : '+this.SB_NO"
            [Keys]="this.FILTER_VALUE_LIST_NEW?.Objectkeys"
            (ViewChanges)="viewCN($event)" (EditChanges)="toEdit($event)"
            ExpandTitle1="SB Details"
            ExpandTitle2="Invoice Details"
            (event)="getInvoicesNew($event,SHIPPING_BILL_ALL_RELATED_DOCUMENTS_VIEW_PANEL) && getTransactionsNew($event);"
            [eventId]="this.FILTER_VALUE_LIST_NEW?.eventId"
            (ArrowEvent)="getSbNo($event)"
            (DeleteChanges)="handleDelete($event)">
        </custom-expansion-panel>
           
        </div>
    </main>
</div>
<ng-template #content let-modal>
    <div class="modal-body">
        <div class="row no-gutter">
            <div class="col-md-7" style="margin: 10px;">
                <div class="login d-flex py-5" style="padding: 0px !important;">
                    <div class="container popup">
                        <div class="row">
                            <div class="col-lg-10 col-xl-7 mrg">
                                <h6 class="display-6">Shipping Bill</h6>
                                <iframe [src]="viewData" width="315%" height="500px"></iframe>
                                <button type="submit" style="margin-left: 250px;" class="submitBTN"
                                    (click)="modal.dismiss('Cross click')">OK</button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<app-custom-model *ngIf="this.SHIPPING_BILL_ALL_RELATED_DOCUMENTS.length!=0"
    [customstyle]="{'margin':'auto !important'}" class="p-2" height="95vh"
    id="SHIPPING_BILL_ALL_RELATED_DOCUMENTS" [name]="'Shipping bill Details : '+this.SHIPPING_BILL">
    <div class="d-flex" style="width: 120px;flex-direction: row;margin-left: 40px;margin-top: 10px;">
        <div class="col-12 d-flex p-2" *ngFor="let selItems of this.SHIPPING_BILL_ALL_RELATED_DOCUMENTS;let i=index">
            <input type="checkbox" [name]="selItems?.name" (change)="tickdoc($event,i)">
            <label for="">{{selItems?.name}}</label>
        </div>
        <button type="submit" class="btn btn-primary"
            (click)="download(this.SHIPPING_BILL_ALL_RELATED_DOCUMENTS,'zip')">Download Zips</button>
        <button type="submit" class="btn btn-primary" style="margin-left: 20px;"
            (click)="download(this.SHIPPING_BILL_ALL_RELATED_DOCUMENTS,'merge')">Merge Pdf</button>
    </div>
    <div class="col-12 p-2" *ngFor="let selItems of this.SHIPPING_BILL_ALL_RELATED_DOCUMENTS">
        <app-pdf-viewer [downloadShow]="false" [name]="selItems?.name" [src]="selItems?.doc" width="100%"
            height="500px"></app-pdf-viewer>
    </div>
</app-custom-model>

<app-custom-model 
    [customstyle]="{'margin':'auto !important'}" class="p-2" height="95vh"
    id="SHIPPING_BILL_ALL_RELATED_DOCUMENTS_VIEW" [name]="'Shipping bill Details'" #SHIPPING_BILL_ALL_RELATED_DOCUMENTS_VIEW_PANEL>
    <div *ngIf="showInvoice" class="table_top">
        <div style="
      width: 100%;
      border-right: 0.5px solid rgba(0, 0, 0, 0.2);
      height: 100%;
      padding-top: 2.3%;">
            <p class="bcw" style="
        font-size: '14px';

        margin-left: 78px;
        font-weight: 500; ">
                {{doc}} Documents
            </p>
        </div>
        <div style="width: 100%; font-weight: 300;">
            <span style="font-weight: 400">People collaborated</span>
        </div>
        <div style="width: 100%; padding-right: 5%">
            <span *ngFor="let data of item2 | slice: 0:3; let i = index" style="float: right; margin-right: 3%"><img
                    class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px"
                    width="30px" /></span>
        </div>
        <!-- <div style="margin-right: 8%">
            <img src="../../../assets/cross.png" (click)="hide()" style="width: 20px; height: 20px;
           margin-left: 10px;cursor: pointer;">
        </div> -->
    </div>
    <div *ngIf="!showInvoice" style="width: 100%" class="analytics-side">
        <section class="middle_datatable">
            <div style="margin:auto;" class="widget-body p-0 support table-wrapper">
                <table *ngIf='pipo' style="width: 100%" class="table table-striped mb-0">
                    <thead style="width: 100%;height: 54px; background: white;position: sticky;top: 0; ">
                        <tr>
                            <th class="rect">
                                <img src="./assets/Rectangle-13.png" />
                            </th>
                            <th scope="col" class="col-td-th-3"><span class="pl-3">DATE</span></th>
                            <th scope="col" class="col-td-th-3">PI/PO No.</th>
                            <th scope="col" class="col-td-th-3">Amount</th>
                            <th scope="col" class="col-td-th-3">CONSIGNEE NAME</th>
                            <th scope="col" class="col-td-th-3">BRANCH</th>
                            <th scope="col" class="col-td-th-3">Bene Name</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-tr" *ngFor="let data of item1; let i = index" (click)="
                                getInvoices(data, i) && getTransactions(data.pi_poNo)
                            ">
                            <th class="rect">
                                <img src="./assets/Rectangle-13.png" />
                            </th>
                            <th class="pl-4 fw-normal">{{ data.date }}</th>
                            <td class="col-td-th-3">{{ data.pi_poNo }}</td>
                            <td class="col-td-th-3">
                                {{data.amount}}
                            </td>
                            <td class="col-td-th-3">{{data.buyerName}}</td>
                            <td class="col-td-th-3">
                                {{data.location}}
                            </td>
                            <td class="col-td-th-3">{{data.benneName}}</td>
                        </tr>

                    </tbody>
                </table>
                <table *ngIf='boe' style="width: 100%" class="table table-striped mb-0">
                    <thead style="width: 100%;height: 54px;background: white;position: sticky;top: 0; ">
                        <tr class="text-muted table-heading">
                            <th class="rect">
                                <img src="./assets/Rectangle-13.png" />
                            </th>
                            <th scope="col" class="col-td-th-3"><span class="pl-3">DATE</span></th>
                            <th scope="col" class="col-td-th-3">BOE NUMBER</th>
                            <th scope="col" class="col-td-th-3">AD CODE</th>
                            <th scope="col" class="col-td-th-3">COMPANY NAME</th>
                            <th scope="col" class="col-td-th-3">UPLOADED BY</th>
                            <th scope="col" class="col-td-th-3">BENE NAME</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-tr" *ngFor="let data of item1; let i = index" (click)="
                                        getInvoices(data, i) && getTransactions(data.pi_poNo)
                                      ">
                            <th class="rect">
                                <img src="./assets/Rectangle-13.png" />
                            </th>
                            <th class="pl-4 fw-normal">{{ data.boeDate }}</th>
                            <td class="col-td-th-3">{{ data.boeNumber }}</td>
                            <td class="col-td-th-3">
                                {{ data.adCode }}
                            </td>
                            <td class="col-td-th-3">Random Company</td>
                            <td class="col-td-th-3">
                                <img class="image"
                                    src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png"
                                    height="30px" width="30px" /><img class="image image2"
                                    src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png"
                                    height="30px" width="30px" /> Lindsey Stroud
                            </td>
                            <td class="col-td-th-3">{{data.benneName}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <div *ngIf="showInvoice" class="p-8 bc">
        <div class="side_document_list">
            <div id="profile" class="profile_class" *ngFor="let data of item1; let i = index"
                [ngClass]="lastIndex == i ? 'activeBtn' : ''"
                (click)="getInvoices(data, i) && getTransactions(data.pi_poNo)">
                <div class="" style="display: flex">
                    <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png"
                        height="30px" width="30px" /><img class="image image2"
                        src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px"
                        width="30px" />
                </div>
                <div class="" style="width: 100%; padding: 3%">
                    <span class="fl fs16">{{ data.sbno }}</span><span class="fr fs12" style="float: 'right'">
                        {{ data.sbdate }}</span>
                    <p class="fs14">{{data.buyerName}}</p>
                </div>
                <div class="" style="width: 100%; padding: 3%" *ngIf="pipo">
                    <span class="fl fs16">{{ data.pi_poNo }}</span><span class="fr fs12" style="float: 'right'">
                        {{ data.date }}</span>
                    <p class="fs14">Continental carriers pvt ltd</p>
                </div>
                <div class="" style="width: 100%; padding: 3%" *ngIf="boe">
                    <span class="fl fs16">{{ data.boeNumber }}</span><span class="fr fs12"
                        style="float: 'right'">
                        {{ data.boeDate }}</span>
                    <p class="fs14">Continental carriers pvt ltd</p>
                </div>
            </div>
        </div>

        <!-- Invoices -->
        <div class="invoices_tab">
            <div class="invoices_inner">
                <div class="tabbed">
                    <input [attr.data-index]="1" type="radio" id="1" name="css-tabs" checked />
                    <input [attr.data-index]="2" type="radio" id="2" name="css-tabs" />
                    <ul class="tabs">
                        <div>
                            <ul class="tabs">
                                <li class="tab" [attr.data-index]="1">
                                    <label for="1">Details</label>
                                </li>
                                <li class="tab" [attr.data-index]="2">
                                    <label for="2">Additional Documents</label>
                                </li>
                            </ul>
                        </div>
                    </ul>

                    <!---------------------DETAILS------------------->
                    <div class="tab-content form-wrapper" [attr.data-index]="1">
                        <!--------            *ngIf="selectedRow.sbno"-->
                        <div class="inner_tab_content">
                            <div *ngIf="selectedRow.pi_poNo" style="
                                background-color: white;
                                width: 100%;
                                height: 100vh;
                                padding-right: 60px;
                                ">
                                <div class="serial_detail">
                                    <span style="
                                    width: 100%;
                                    float: 'right';
                                    font-size: '14px';
                                    margin-top: 18.77px;
                                    color: black;
                                    ">PI/PO NUMBER:&emsp;{{ selectedRow.pi_poNo }}</span>
                                </div>
                                <div class="invoice_head">
                                    <div style="width: 100%">
                                        <span style="
                                            width: 65%;
                                            float: 'left';
                                            font-size: '20px';
                                            font-weight: 500;
                                        ">PI/PO DETAILS</span>
                                    </div>
                                    <div style="width: 100%">
                                        <span style="
                                            float: 'right';
                                            font-weight: 500;
                                            font-size: '14px';
                                            color: black;
                                        ">SHIPPING BILL DATE:&emsp;{{
                                            selectedRow.date
                                            }}</span>
                                    </div>
                                </div>
                                <div class="row" style="width: 100%">
                                    <div class="col-12 mb-lg padding" style="width: 100%">
                                        <section style="
                                            padding-left: 45px;
                                            display: grid;
                                            grid-template-columns: 33% 33% 33%;
                                            margin-top: 3%;
                                            " class="widget pb-0 box-shadow">

                                            <div style="
                                            width: 85%;
                                            margin-bottom: 24px;
                                            border-radius: 8px;
                                            box-shadow: 4px 4px 8px 4px #eeeefa;

                                            border-left: 3px solid #e7845f;
                                            ">
                                                <div style="
                                                    height: 100px;
                                                    padding-top: 5%;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                    ">
                                                    <label style="
                                                    color: #72768a !important;
                                                    font-size: 102%;
                                                    ">PI/PO NO.</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.pi_poNo }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #5fe6e7;
                                                ">
                                                <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">Benne Name</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.benneName }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #e7845f;
                                                ">
                                                <div style="
                                                        height: 100px;
                                                        padding-top: 14px;
                                                        padding-bottom: 17px;
                                                        padding-left: 3%;
                                                    ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">Currency</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.currency }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #e7845f;
                                                ">
                                                <div style="
                                                        height: 100px;
                                                        padding-top: 14px;
                                                        padding-bottom: 17px;
                                                        padding-left: 3%;
                                                    ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">Amount</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.amount }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #5fe6e7;
                                                ">
                                                <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">LEO DATE</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.incoterm }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #e7845f;
                                                ">
                                                <div style="
                                                        height: 100px;
                                                        padding-top: 14px;
                                                        padding-bottom: 17px;
                                                        padding-left: 3%;
                                                    ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">Last Day Of Shipment</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.lastDayShipment }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #e7845f;
                                                ">
                                                <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                    ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                    ">Payment Term</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.paymentTerm }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #5fe6e7;
                                                ">
                                                <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">PC Ref No.</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.pcRefNo }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="
                                                width: 85%;
                                                margin-bottom: 24px;
                                                border-radius: 8px;
                                                box-shadow: 4px 4px 8px 4px #eeeefa;
                                                border-left: 3px solid #e7845f;
                                                ">
                                                <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                ">
                                                    <label style="
                                                        color: #72768a !important;
                                                        font-size: 102%;
                                                        ">Due Date</label>
                                                    <p style="
                                                        margin-left: 5%;
                                                        color: #000000;
                                                        font-size: 102%;
                                                        ">
                                                        {{ selectedRow.dueDate }}
                                                    </p>
                                                </div>
                                            </div>
                                            <iframe [src]="docu"
                                                style="height: 600px; width: 400px; margin-left: 19px;"></iframe>
                                        </section>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="selectedRow.boeNumber" style="width: 98%; background-color: 'white'">
                                <div style="width: 100%; margin-top: 10px">
                                    <span style="width: 35%; float: 'right'; font-size: '14px'">BOE
                                        NUMBER:&emsp;{{
                                        selectedRow.boeNumber }}</span>
                                </div>
                                <div style="width: 100%">
                                    <span style="
                                        width: 65%;
                                        float: 'left';
                                        font-size: '16px';
                                        margin-top: 20px;
                                        padding-left: 25px;
                                    ">SB DETAILS</span>
                                    <span style="width: 35%; float: 'right'; font-size: '14px'">BOE
                                        DATE:&emsp;{{ selectedRow.boeDate
                                        }}</span>
                                    <!-- <div>SP Number:&emsp;{{ selectedRow.sbno }}</div>
                                                          <div>SP Date:&emsp;{{ selectedRow.sbdate }}</div>-->
                                </div>
                                <div class="row" style="width: 100%">
                                    <div class="col-12 mb-lg padding" style="width: 100%">
                                        <section class="widget pb-0 box-shadow">
                                            <tr class="form-wrapper1">
                                                <td class="full-input border1">
                                                    <label for="dischargePort">DISCHARGE PORT</label><input
                                                        [(ngModel)]="selectedRow.dischargePort"
                                                        class="smalll-input" type="text" name="dischargePort" />
                                                </td>
                                                <td class="full-input border2">
                                                    <label for="iecCode">IEC CODE</label><input
                                                        [(ngModel)]="selectedRow.iecCode" class="smalll-input"
                                                        type="text" name="iecCode" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="iecName">IEC NAME</label><input
                                                        [(ngModel)]="selectedRow.iecName" class="smalll-input"
                                                        type="text" name="iecName" />
                                                </td>
                                                <br />
                                                <td class="full-input border1">
                                                    <label for="adCode">AD CODE</label><input
                                                        [(ngModel)]="selectedRow.adCode" class="smalll-input"
                                                        type="text" name="adCode" />
                                                </td>

                                                <p class="sh1">INVOICE DETAILS</p>
                                                <td class="full-input border1">
                                                    <label for="invoiceNumber">INVOICE NO</label><input
                                                        [(ngModel)]="selectedRow.invoiceNumber"
                                                        class="smalll-input" type="text" name="invoiceNumber" />
                                                </td>
                                                <td class="full-input border2">
                                                    <label for="invoiceAmount">INVOICE AMOUNT</label><input
                                                        [(ngModel)]="selectedRow.invoiceAmount"
                                                        class="smalll-input" type="text" name="invoiceAmount" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="currency">CURRENCY</label><input
                                                        [(ngModel)]="selectedRow.currency" class="smalll-input"
                                                        type="text" name="currency" />
                                                </td>
                                                <br />
                                                <td class="full-input border1">
                                                    <label for="settledAmount">SETTELED AMOIUNT</label><input
                                                        [(ngModel)]="selectedRow.settledAmount"
                                                        class="smalll-input" type="text" name="settledAmount" />
                                                </td>
                                                <td class="full-input border2">
                                                    <label for="status">STATUS</label><input
                                                        [(ngModel)]="selectedRow.status" class="smalll-input"
                                                        type="text" name="status" />
                                                </td>
                                                <br />

                                                <p class="sh1">FOB and FREIGHT</p>
                                                <td class="full-input border2">
                                                    <label for="freightAmount">FREIGHT AMOUNT</label><input
                                                        [(ngModel)]="selectedRow.freightAmount"
                                                        class="smalll-input" type="text" name="freightAmount" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="freightCurrency">FREIGHT CURRENCY</label><input
                                                        [(ngModel)]="selectedRow.freightCurrency"
                                                        class="smalll-input" type="text"
                                                        name="freightCurrency" />
                                                </td>
                                                <br />

                                                <p class="sh1">INSURANCE</p>
                                                <td class="full-input border2">
                                                    <label for="insuranceAmount">INSURANCE AMOUNT</label><input
                                                        [(ngModel)]="selectedRow.insuranceAmount"
                                                        class="smalll-input" type="text"
                                                        name="insuranceAmount" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="insuranceCurrency">INSURANCE
                                                        CURRENCY</label><input
                                                        [(ngModel)]="selectedRow.insuranceCurrency"
                                                        class="smalll-input" type="text"
                                                        name="insuranceCurrency" />
                                                </td>

                                                <p class="sh1">DISCOUNT</p>
                                                <td class="full-input border2">
                                                    <label for="discountAmount">DISCOUNT AMOUNT</label><input
                                                        [(ngModel)]="selectedRow.discountAmount"
                                                        class="smalll-input" type="text"
                                                        name="discountAmount" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="discountCurrency">DISCOUNT
                                                        CURRENCY</label><input
                                                        [(ngModel)]="selectedRow.discountCurrency"
                                                        class="smalll-input" type="text"
                                                        name="discountCurrency" />
                                                </td>
                                                <br />

                                                <p class="sh1">MISCELLANEOUS</p>
                                                <td class="full-input border2">
                                                    <label for="miscellaneousAmount">MISCELLANEOUS
                                                        AMOUNT</label><input
                                                        [(ngModel)]="selectedRow.miscellaneousAmount"
                                                        class="smalll-input" type="text"
                                                        name="miscellaneousAmount" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="miscellaneousCurrency">MISCELLANEOUS
                                                        CURRENCY</label><input
                                                        [(ngModel)]="selectedRow.miscellaneousCurrency"
                                                        class="smalll-input" type="text"
                                                        name="miscellaneousCurrency" />
                                                </td>

                                                <p class="sh1">COMMISSION</p>
                                                <td class="full-input border2">
                                                    <label for="commissionAmount">COMMISSION
                                                        AMOUNT</label><input
                                                        [(ngModel)]="selectedRow.commissionAmount"
                                                        class="smalll-input" type="text"
                                                        name="commissionAmount" />
                                                </td>
                                                <td class="full-input border3">
                                                    <label for="commissionCurrency">COMMISSION
                                                        CURRENCY</label><input
                                                        [(ngModel)]="selectedRow.commissionCurrency"
                                                        class="smalll-input" type="text"
                                                        name="commissionCurrency" />
                                                </td>
                                            </tr>
                                            <iframe [src]="docu"
                                                style="height: 600px; width: 400px; margin-left: 19px;"></iframe>
                                        </section>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="selectedRow.sbno" style="width: 98%; background-color: 'white'">
                                <div style="width: 100%; margin-top: 10px">
                                    <span style="width: 35%; float: 'right'; font-size: '14px'">SB
                                        NUMBER:&emsp;{{ selectedRow.sbno }}</span>
                                </div>
                                <div style="width: 100%">
                                    <span style="
                                        width: 65%;
                                        float: 'left';
                                        font-size: '16px';
                                        margin-top: 20px;
                                        padding-left: 25px;
                                    ">SB DETAILS</span>
                                    <span style="width: 35%; float: 'right'; font-size: '14px'">SB
                                        DATE:&emsp;{{ selectedRow.sbdate
                                        }}</span>
                                </div>
                                <div class="row" style="width: 100%">
                                    <div class="col-12 mb-lg padding" style="width: 100%">
                                        <section class="widget pb-0 box-shadow">
                                            <tr style="width: 100%" class="form-wrapper1">
                                                <div>
                                                    <td class="full-input border1">
                                                        <label for="portCode">PORT CODE</label><input
                                                            [(ngModel)]="selectedRow.portCode"
                                                            class="smalll-input" type="text" name="portCode" />
                                                    </td>
                                                    <td class="full-input border2">
                                                        <label for="ieccode">IEC CODE</label><input
                                                            [(ngModel)]="selectedRow.ieccode"
                                                            class="smalll-input" type="text" name="ieccode" />
                                                    </td>
                                                    <td class="full-input border3">
                                                        <label for="iecName">IEC NAME</label><input
                                                            [(ngModel)]="selectedRow.iecName"
                                                            class="smalll-input" type="text" name="iecName" />
                                                    </td>
                                                </div>
                                                <br />
                                                <div>
                                                    <td class="full-input border1">
                                                        <label for="adCode">AD CODE</label><input
                                                            [(ngModel)]="selectedRow.adCode"
                                                            class="smalll-input" type="text" name="adCode" />
                                                    </td>
                                                    <td class="full-input border2">
                                                        <label for="leodate">LEO DATE</label><input
                                                            [(ngModel)]="selectedRow.leodate"
                                                            class="smalll-input" type="text" name="leodate" />
                                                    </td>
                                                    <td class="full-input border3">
                                                        <label for="processingStaus">PROCESSING
                                                            STATUS</label><input
                                                            [(ngModel)]="selectedRow.processingStaus"
                                                            class="smalll-input" type="text"
                                                            name="processingStaus" />
                                                    </td>
                                                </div>

                                                <br />
                                                <div>
                                                    <p class="sh1">FOB and FREIGHT</p>
                                                    <td class="full-input border1">
                                                        <label for="fobCurrency">FOB CURRENCY</label><input
                                                            [(ngModel)]="selectedRow.fobCurrency"
                                                            class="smalll-input" type="text"
                                                            name="fobCurrency" />
                                                    </td>
                                                    <td class="full-input border2">
                                                        <label for="fobValue">FOB VALUE</label><input
                                                            [(ngModel)]="selectedRow.fobValue"
                                                            class="smalll-input" type="text" name="fobValue" />
                                                    </td>
                                                    <td class="full-input border3">
                                                        <label for="realizedFobValue">REALIZED FOB
                                                            VALUE</label><input
                                                            [(ngModel)]="selectedRow.realizedFobValue"
                                                            class="smalll-input" type="text"
                                                            name="realizedFobValue" />
                                                    </td>
                                                </div>
                                                <br />
                                                <div>
                                                    <td class="full-input border1">
                                                        <label for="equivalentFobValue">EQUIVALENT FOB
                                                            VALUE</label><input
                                                            [(ngModel)]="selectedRow.equivalentFobValue"
                                                            class="smalll-input" type="text"
                                                            name="equivalentFobValue" />
                                                    </td>
                                                    <td class="full-input border2">
                                                        <label for="freightCurrency">FREIGHT
                                                            CURRENCY</label><input
                                                            [(ngModel)]="selectedRow.freightCurrency"
                                                            class="smalll-input" type="text"
                                                            name="freightCurrency" />
                                                    </td>
                                                    <td class="full-input border3">
                                                        <label for="realizedFreightValue">FREIGHT
                                                            VALUE</label><input
                                                            [(ngModel)]="selectedRow.realizedFreightValue"
                                                            class="smalll-input" type="text"
                                                            name="realizedFreightValue" />
                                                    </td>
                                                </div>
                                                <br />
                                                <div>
                                                    <p class="sh1">INSURANCE</p>
                                                    <td class="full-input border2">
                                                        <label for="insuranceCurrency">INSURANCE
                                                            CURRENCY</label><input
                                                            [(ngModel)]="selectedRow.insuranceCurrency"
                                                            class="smalll-input" type="text"
                                                            name="insuranceCurrency" />
                                                    </td>
                                                    <td class="full-input border3">
                                                        <label for="insuranceValue">INSURANCE
                                                            VALUE</label><input
                                                            [(ngModel)]="selectedRow.insuranceValue"
                                                            class="smalll-input" type="text"
                                                            name="insuranceValue" />
                                                    </td>
                                                    <td class="full-input border1">
                                                        <label for="realizedInsuranceValue">REALIZED INSURANCE
                                                            VALUE</label><input [(ngModel)]="
                                                                selectedRow.realizedInsuranceValue
                                                              " class="smalll-input" type="text"
                                                            name="realizedInsuranceValue" />
                                                    </td>
                                                </div>
                                                <br />
                                                <div>
                                                    <p class="sh1">Additional</p>
                                                    <td class="full-input border2">
                                                        <label for="bankingCharges">BANKING
                                                            CHARGES</label><input
                                                            [(ngModel)]="selectedRow.bankingCharges"
                                                            class="smalll-input" type="text"
                                                            name="bankingCharges" />
                                                    </td>
                                                    <td class="full-input border3">
                                                        <label for="expectedPaymentlastdate">PAYMENT LAST
                                                            DATE</label><input [(ngModel)]="
                                                                selectedRow.expectedPaymentlastdate
                                                              " class="smalll-input" type="text"
                                                            name="expectedPaymentlastdate" />
                                                    </td>
                                                    <td class="full-input border1">
                                                        <label for="AddedDate">ADDED DATE</label><input
                                                            [(ngModel)]="selectedRow.AddedDate"
                                                            class="smalll-input" type="text" name="AddedDate" />
                                                    </td>
                                                </div>

                                                <br />
                                                <div>
                                                    <td class="full-input border2">
                                                        <label for="modifiedDate">MODIFIED DATE</label><input
                                                            [(ngModel)]="selectedRow.modifiedDate"
                                                            class="smalll-input" type="text"
                                                            name="modifiedDate" />
                                                    </td>
                                                </div>
                                            </tr>
                                            <p class="sh1">Invoices</p>
                                            <table id="customers" style="margin-bottom: 5px;">
                                                <tr>
                                                    <th>
                                                        Serial Number
                                                    </th>
                                                    <th>Invoice Number</th>
                                                    <th>Invoice Amount</th>
                                                    <th style="text-align: left !important">
                                                        Currency
                                                    </th>
                                                </tr>
                                                <tr *ngFor="
                                                            let obj of selectedRow.invoices;
                                                            let i = index
                                                          ">
                                                    <!-- <td class="col-td-th-3"><img src="./assets/Rectangle-13.png" /></td> -->
                                                    <td class="col-td-th-3">{{ i + 1 }}</td>
                                                    <td class="col-td-th-3">{{ obj.invoiceno }}</td>
                                                    <td class="col-td-th-3">{{ obj.amount }}</td>
                                                    <td class="col-td-th-3">{{ obj.currency }}</td>
                                                    <!-- <td class="col-td-th-3"><img src="./assets/Rectangle-13.png" /></td> -->
                                                </tr>
                                            </table>

                                            <iframe [src]="docu"
                                                style="height: 600px; width: 600px; margin-top: 6px; margin-left: 19px;"></iframe>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!----------------ADD A DOCUMENT ----------------------------------------->
                    <div class="tab-content form-wrapper" [attr.data-index]="2" style="
                        height: 100vh;
                        padding-left: 20px;
                        padding-top: 4%;
                        background-color: white;
                        width: 80%;
                        ">
                        <div class="form" method="POST">
                            <input class="dropzone dropzone-container" id="dropzone" />
                            <div class="form_inner">
                                <p>Drag a document here</p>
                                <p>or</p>
                                <button type="submit">Select</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</app-custom-model>

<app-custom-model [customstyle]="{'margin':'auto !important'}" class="p-2" height="95vh"
    id="PDF_VIEW" name="Shipping Bill">
    <div class="p-2">
        <app-pdf-viewer *ngIf="viewData!=''" [downloadShow]="false" name="Shipping Bill" [src]="viewData" width="100%"
            height="500px"></app-pdf-viewer>
    </div>
</app-custom-model>

<app-custom-model modalbodyheight="55vh" *ngIf="this.SELECTED_SHIPPING_VALUE!=''"
    [modalbodystyle]="{'display':'flex','flex-direction':'row','justify-content':'center'}" [FooterButton]="false"
    EventButton="false" [customstyle]="{'max-width':'95vw !important'}" class="p-2 mt-2" height="60vh"
    id="EditSummaryPage" [name]="'Shipping Bill Update || Shipping bill No. : '+this.SELECTED_SHIPPING_VALUE?.sbno"
    #EditSummaryPagePanel>
    <div class="ml-0 p-3 col-12">
        <div class="container-fluid m-auto p-0">
            <div class="content_white_background" style="height: auto;">
                <main id="content" class="table-padding" role="main" style="border-radius: 10px;">
                    <div class="new_document_list1">
                        <div class="d-flex col-12 p-0 pt-3" id="FromClientRequest" style="flex-direction: column;">
                            <div class="row col-12 mt-0 p-0">
                                <div class="row col-12 p-0">
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">SB DATE</label>
                                        <ng-custom-input type="date"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.sbdate"
                                            placeHolderText="SB DATE"></ng-custom-input>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">SB NUMBER</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.sbno"
                                            placeHolderText="SB NUMBER"></ng-custom-input>
                                    </div>
                                </div>
                                <div class="row col-12 p-0">
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">AD CODE</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.adCode"
                                            placeHolderText="AD CODE"></ng-custom-input>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">AD BILL NO</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.adBillNo"
                                            placeHolderText="AD BILL NO"></ng-custom-input>
                                    </div>
                                </div>
                                <div class="row col-12 p-0">
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">BUYER NAME</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.buyerName"
                                            placeHolderText="BUYER NAME"></ng-custom-input>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">Consignee NAME</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.consigneeName"
                                            placeHolderText="Consignee NAME"></ng-custom-input>
                                    </div>
                                </div>
                                <div class="row col-12 p-0">
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">ORIGIN</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.exporterLocationCode"
                                            placeHolderText="ORIGIN"></ng-custom-input>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">DESTINATION</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.countryOfFinaldestination"
                                            placeHolderText="DESTINATION"></ng-custom-input>
                                    </div>
                                </div>
                                <div class="row col-12 p-0">
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">CURRENCY</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.fobCurrency"
                                            placeHolderText="CURRENCY"></ng-custom-input>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="inputEmail4">SB AMOUNT</label>
                                        <ng-custom-input type="text"
                                            [(ngInput)]="this.SHIPPING_BILL_EDIT_FORM_DATA.fobValue"
                                            placeHolderText="SB AMOUNT"></ng-custom-input>
                                    </div>
                                </div>
                            </div>
                            <div class="row col-12 mt-0 p-0 pl-2 pb-2">
                                <button class="btn btn-primary"
                                    (click)="toSaveNew(this.SHIPPING_BILL_EDIT_FORM_DATA,this.SELECTED_SHIPPING_VALUE?._id,EditSummaryPagePanel)">Update</button>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
</app-custom-model>