<div class="col-12 pt-2 Invoice">
    <label for="" class="col-12 Invoice-label">FLC Application</label>
    <custom-mat-stepper #CustomMatStepper>
        <custom-mat-step MATSTEP_LABEL="FLC Application-Transaction" errorMessage="Please select Inward Remittance"
            [NextTrue]="true">
            <div class="upload-panel-2">
                <div class="left-panel">
                    <app-pdf-viewer class="pt-3" [downloadShow]="false" width="100%" Newheight="calc(100vh - 130px)"
                        *ngIf="PREVIWES_URL!='' && this.VISIBLITY_PDF==true" name="Covering Schedule"
                        [src]="PREVIWES_URL"></app-pdf-viewer>
                    <app-pdf-viewer class="pt-3" [downloadShow]="false" width="100%" Newheight="calc(100vh - 130px)"
                        *ngIf="this.LETTER_HEAD_URL!='' && this.VISIBLITY_PDF==true" name="Letter Head"
                        [src]="this.LETTER_HEAD_URL"></app-pdf-viewer>
                    <div class="col-12 p-2" *ngFor="let item of this.SELECTED_PIPO_URL_LIST;let i=index">
                        <app-pdf-viewer class="pt-3" [downloadShow]="false" width="100%" Newheight="calc(100vh - 130px)"
                            [name]="item?.name" [src]="item?.pdf"></app-pdf-viewer>
                    </div>
                </div>
                <upload-components [SubmitButtonDisabled]="SubmitButtonDisabled" [BUTTON_PANEL_SHOW]="true"
                    [BUTTON_PANEL_SHOW]="false" SubmitName="Fill PDF" id="IMPORT_TRANSACTION"
                    (BankEvent)="setSelectedBankDetails($event,null)" (BENEFICIARY_EVENT)="BENEFICIARY_CALLBACK($event)"
                    (SubmitEvent)="this.SubmitButton(RawValueEventPanel?.geForm)" #RawValueEventPanel>
                    <button class="btn btn-primary PopupOpen" style="position: absolute;
                bottom: 10px;
                height: 50px;" popup-close="AutofillLCTable" #AutofillLCTableButton>AutoFill</button>
                    <button class="btn btn-primary" *ngIf="this.Send_for_Approval_button==true"
                        (click)="PREVIEWS_PANEL?.displayShow" style="position: absolute;
                    bottom: 10px;
                    right: 100px;
                    height: 50px;">Previews</button>
                </upload-components>
            </div>
        </custom-mat-step>
        <custom-mat-step MATSTEP_LABEL="FLC Application Drafts" errorMessage="Please select Inward Remittance"
            [NextTrue]="true">
            <div class="mt-0 p-2">
                <table class="table AcceptReject">
                    <thead>
                        <tr class="table-tr">
                            <th scope="col" class="col-td-th-2">Date</th>
                            <th scope="col" class="col-td-th-2">Party Name</th>
                            <th scope="col" class="col-td-th-3">Pipo No.</th>
                            <th scope="col" class="col-td-th-3">Currency</th>
                            <th scope="col" class="col-td-th-3">Amount</th>
                            <th scope="col" class="col-td-th-3">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-tr" *ngFor="let item of this.LCTransaction_Data;let i=index">
                            <td scope="col" class="col-td-th-2">{{item?.date}}</td>
                            <td scope="col" class="col-td-th-2">{{item?.bundel[0]?.BenneName?.value}}</td>
                            <td scope="col" class="col-td-th-3">{{item?.bundel[0]?.paymentTerm[0]?.PIPO_LIST?.pi_poNo}}
                            </td>
                            <td scope="col" class="col-td-th-3">{{item?.bundel[0]?.paymentTerm[0]?.PIPO_LIST?.currency}}
                            </td>
                            <td scope="col" class="col-td-th-3">{{item?.bundel[0]?.paymentTerm[0]?.RemittanceAmount}}
                            </td>
                            <td scope="col" class="col-td-th-3">
                                <a title="View" class="PopupOpen" popup-close="VIEW_DOCUMENTS"
                                    (click)="view_pdf(item?.doc)">
                                    <i class="fa fa-eye PopupOpen" popup-close="VIEW_DOCUMENTS" aria-hidden="true"></i>
                                </a>
                                <a title="Edit"
                                    (click)="Edit(item,AutofillLCTableButton);AutofillLCTableButton?.click();CustomMatStepper?.ClickBackButton()">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a title="Delete" (click)="delete(item)" *ngIf="item?.SendApproval==false">
                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                </a>
                                <button type="button" class="btn btn-primary" title="Download"
                                    (click)="DownloadPopUp(item)">
                                    .docx
                                </button>
                                <button type="button" class="btn btn-primary" title="Send For Approval"
                                    (click)="OpenSendApprovalPopUp(item,AutofillLCTableButton);SendforApproval_PANEL?.displayShow;">
                                    Send For Approval
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </custom-mat-step>
        <custom-mat-step MATSTEP_LABEL="FLC Application Summary" errorMessage="Please select Inward Remittance"
            [NextTrue]="true">
            <div class="mt-0 p-2">
                <table class="table AcceptReject">
                    <thead>
                        <tr class="table-tr">
                            <th scope="col" class="col-td-th-2">Date</th>
                            <th scope="col" class="col-td-th-2">Party Name</th>
                            <th scope="col" class="col-td-th-3">Pipo No.</th>
                            <th scope="col" class="col-td-th-3">Currency</th>
                            <th scope="col" class="col-td-th-3">Amount</th>
                            <th scope="col" class="col-td-th-3">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-tr" *ngFor="let item of this.SUMMARY_LC_DATA;let i=index">
                            <td scope="col" class="col-td-th-2">{{item?.date}}</td>
                            <td scope="col" class="col-td-th-2">{{item?.bundel[0]?.BenneName?.value}}</td>
                            <td scope="col" class="col-td-th-3">{{item?.bundel[0]?.paymentTerm[0]?.PIPO_LIST?.pi_poNo}}
                            </td>
                            <td scope="col" class="col-td-th-3">{{item?.bundel[0]?.paymentTerm[0]?.PIPO_LIST?.currency}}
                            </td>
                            <td scope="col" class="col-td-th-3">{{item?.bundel[0]?.paymentTerm[0]?.RemittanceAmount}}
                            </td>
                            <td scope="col" class="col-td-th-3">
                                <a title="View" class="PopupOpen" popup-close="VIEW_DOCUMENTS"
                                    (click)="view_pdf(item?.doc)">
                                    <i class="fa fa-eye PopupOpen" popup-close="VIEW_DOCUMENTS" aria-hidden="true"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </custom-mat-step>
    </custom-mat-stepper>
</div>

<app-custom-model [customstyle]="{'max-width':'98vw !important'}" class="p-2" height="98vh" id="PREVIEWS"
    name="Document View" #PREVIEWS_PANEL>
    <div class="col-12 mt-2 mb-2">
        <app-pdf-viewer *ngIf="this.PREVIEWS_URL_LIST!=''" [downloadShow]="false" [src]="this.PREVIEWS_URL_LIST"
            name="Documents" width="100%" height="100%"></app-pdf-viewer>
    </div>
    <custom-model-header>
        <button type="button" class="btn btn-primary"
            (click)="SaveAsDraft(this.EDIT_OPTION_ENABLED==true?'Changed_':'New_','SendApprover');">Save</button>
    </custom-model-header>
</app-custom-model>

<app-custom-model [customstyle]="{'max-width':'98vw !important'}" class="p-2" height="98vh" id="SendforApproval"
    name="Document View" #SendforApproval_PANEL>
    <div class="col-12 mt-2 mb-2" *ngFor="let item of this.SEND_APPROVAL_DATA?.Documents;let i=index">
        <app-pdf-viewer [downloadShow]="false" [src]="item" name="Documents" width="100%"
            height="100%"></app-pdf-viewer>
    </div>
    <custom-model-header>
        <button type="button" class="btn btn-primary"
            (click)="SendApproval(this.GetDownloadStatus?.status,this.SEND_APPROVAL_DATA,'SendApprover',SendforApproval_PANEL);">Send
            for
            Approval</button>
    </custom-model-header>
</app-custom-model>

<app-custom-model [FooterButton]="false" [minimizedisabled]="false"
    [modalbodystyle]="{'max-height':'calc(100vh - 120px) !important','height':'calc(100vh - 120px) !important'}"
    height="98vh" id="AutofillLCTable" name="Autofill LC Table" #AutofillLCTablePanel>
    <div class="grid-templeate">
        <div class="row m-0">
            <input type="text" name="search" class="form-control col-10" style="margin: auto;margin-top: 10px;">
            <button type="submit" class="btn btn-primary" style="height: 35px;margin: auto;margin-top: 12px;"
                (click)="ResetQuestion()">Reset</button>
        </div>
        <upload-components SubmitName="AutoFill" id="AutofillLCTableForm" [BUTTON_PANEL_SHOW]="false"
            [BUTTON_PANEL_HIDE]="false" #AutofillLCTableFormPanel></upload-components>
        <div class="modal-footer" style="position: fixed;
        bottom: 40px;
        right: 20px;
        border: none;">
            <div style="display:flex;" class="mt-3">
                <button type="button" class="btn btn-primary"
                    (click)="QuestionDoneButton(AutofillLCTableFormPanel?.geForm,AutofillLCTablePanel);">Done</button>
            </div>
        </div>
    </div>
</app-custom-model>

<app-custom-model modalbodyheight="80vh"
    [modalbodystyle]="{'display':'flex','flex-direction':'row','justify-content':'center'}" [FooterButton]="false"
    EventButton="false" [customstyle]="{'max-width':'95vw !important'}" class="p-2 mt-2" height="90vh"
    id="VIEW_DOCUMENTS" name="Forward Contract View Documents">
    <div class="col-12 pb-2" *ngIf="this.PDF_VIEW_URL!=''">
        <app-pdf-viewer [downloadShow]="false" *ngIf="this.PDF_VIEW_URL!=''" name="Documents" [src]="this.PDF_VIEW_URL"
            width="100%" height="500px"></app-pdf-viewer>
    </div>
</app-custom-model>